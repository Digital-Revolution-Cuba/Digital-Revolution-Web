---
import '../../styles/global.css';

import Layout from "../../layouts/Layout.astro"
import { HeroSection } from "../../components/gallery/GalleryHero.tsx"
import { GalleryGrid } from "../../components/gallery/GalleryGrid.tsx"

async function fetchImages(){
  const response = await fetch(
    `https://picsum.photos/v2/list`
  );

  if (!response.ok) {
    throw new Error(`Error al obtener im√°genes: ${response.statusText}`);
  }

  const data = await response.json();
  console.log(data)
  return data

}

const images = await fetchImages()
---

<Layout>
    <HeroSection client:only/>
    <GalleryGrid client:only="react" images={images}></GalleryGrid>
</Layout>
