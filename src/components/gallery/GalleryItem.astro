---
import type { ArteGalleryItem } from '../../data/types';

interface Props {
  item: ArteGalleryItem;
}

const { item } = Astro.props;
---

<div
  class="gallery-item arte-item relative flex-shrink-0 overflow-hidden rounded-[25px]"
  style="width: 285px; padding-left: 8px; padding-right: 8px;"
  data-category="arte"
>
  <img
    src={item.image}
    alt={item.title}
    class="h-[440px] w-[269px] rounded-[25px] object-cover shadow-md transition duration-300"
    loading="lazy"
  />
  <div class="artist-overlay">
    <div class="artist-info">
      <h3 class="artist-name">{item.artistName}</h3>
      <p class="artist-role">{item.artistRole}</p>
    </div>
  </div>
  <div class="image-overlay" aria-hidden="true"></div>
  <div class="shine-effect" aria-hidden="true"></div>
</div>

<style>
  .shine-effect {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    background: var(--gradient-shine-cyan); /* usar token desde global.css */
    transform: translate3d(-100%, 0, 0);
    pointer-events: none;
    z-index: 2;

    /* performance*/
    will-change: transform, opacity;
    backface-visibility: hidden;
    transition:
      transform 0.7s ease,
      opacity 0.3s ease;
  }

  .gallery-item:hover .shine-effect {
    opacity: 1;
    transform: translate3d(100%, 0, 0);
  }

  /* overlay simula el filter (más barato) - ajusté opacidad para coincidir con el diseño original */
  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.06);
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.3s ease;
    will-change: opacity;
  }

  .gallery-item:hover .image-overlay {
    opacity: 0; /* al hover la imagen "sube" a brightness 1 */
  }

  /* Overlay amarillo con información del artista */
  .artist-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(
      255,
      201,
      67,
      0.95
    ); /* var(--palette-accent-yellow) con alta opacidad */
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    z-index: 3;
    transition: opacity 0.3s ease;
    border-radius: 25px;
  }

  .gallery-item:hover .artist-overlay {
    opacity: 1;
  }

  .artist-info {
    text-align: center;
    padding: 20px;
  }

  .artist-name {
    font-family: var(--font-barlow);
    font-size: 3rem;
    font-weight: 700;
    color: var(--palette-brand-dark);
    margin: 0 0 8px 0;
    line-height: 1;
    text-transform: capitalize;
  }

  .artist-role {
    font-family: var(--font-rubik);
    font-size: 1rem;
    font-weight: 500;
    color: var(--palette-brand-dark);
    margin: 0;
    line-height: 1.3;
  }

  /* restaurado: zoom sutil en hover (transform = GPU-friendly) */
  .gallery-item img {
    filter: brightness(0.95);
    transition: filter 0.3s;
  }

  .gallery-item:hover img {
    filter: brightness(1);
    transform: scale(1.03);
  }
</style>
