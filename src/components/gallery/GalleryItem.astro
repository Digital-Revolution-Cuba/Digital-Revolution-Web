---
import type { ArteGalleryItem } from '../../data/types';

interface Props {
  item: ArteGalleryItem;
}

const { item } = Astro.props;
---

<div
  class="gallery-item arte-item relative flex-shrink-0 overflow-hidden rounded-[25px]"
  style="width: 285px; padding-left: 8px; padding-right: 8px;"
  data-category="arte"
>
  <img
    src={item.image}
    alt={item.title}
    class="h-[440px] w-[269px] rounded-[25px] object-cover shadow-md transition duration-300"
    loading="lazy"
  />
  <div class="image-overlay" aria-hidden="true"></div>
  <div class="shine-effect" aria-hidden="true"></div>
</div>

<style>
  .shine-effect {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    background: var(--shine-gradient);
    transform: translate3d(-100%, 0, 0);
    pointer-events: none;
    z-index: 2;

    /* performance*/
    will-change: transform, opacity;
    backface-visibility: hidden;
  }

  .gallery-item:hover .shine-effect {
    opacity: 1;
    transform: translate3d(100%, 0, 0);
    transition:
      transform 0.7s ease,
      opacity 0.3s ease;
  }

  /* overlay simula el filter (más barato) - ajusté opacidad para coincidir con el diseño original */
  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.06);
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.3s ease;
    will-change: opacity;
  }

  .gallery-item:hover .image-overlay {
    opacity: 0; /* al hover la imagen "sube" a brightness 1 */
  }

  /* restaurado: zoom sutil en hover (transform = GPU-friendly) */
  .gallery-item img {
    filter: brightness(0.95);
    transition: filter 0.3s;
  }

  .gallery-item:hover img {
    filter: brightness(1);
    transform: scale(1.03);
  }
</style>
