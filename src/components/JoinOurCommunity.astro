---
import '../styles/global.css';
import '../styles/components/join-community.css';
import { Image } from 'astro:assets';
import communityImage from '../assets/ImagenPruebaGaleria.avif';
---

<section
  class="join-our-community bg-brand-backgroundGlobal relative grid grid-cols-3 items-center justify-items-center gap-3 px-3 py-6 sm:gap-x-3 sm:gap-y-4 md:grid-cols-3 md:py-30"
  aria-label="Sección para unirse a la comunidad de artistas"
>
  <!-- Decorative CTA: images removed and replaced with accessible CTA design -->

  <!-- Left column: decorative shapes (images removed) -->
  <div class="md:col-span-auto flex shrink flex-col items-center justify-center gap-4 sm:col-span-1 sm:items-start sm:gap-3 md:gap-10">
    <div class="decorative-blob decorative-blob--top" aria-hidden="true"></div>
    <div class="decorative-blob decorative-blob--bottom" aria-hidden="true"></div>
  </div>

  <!-- Centro: CTA principal consolidado -->
  <div
    class="community-cta-wrapper md:col-span-auto flex shrink flex-col items-center justify-center gap-4 sm:col-span-1 sm:gap-6 md:items-center md:gap-8"
  >
    <div class="community-cta animate-in" role="region" aria-labelledby="community-title">
      <div class="cta-decor" aria-hidden="true"></div>
      
      <h2 id="community-title" class="community-title text-base leading-tight font-bold tracking-wide uppercase sm:text-lg md:text-2xl lg:text-3xl">
        <span class="text-accent-cyan">Únete</span>
        <span class="text-white"> a </span>
        <span class="text-accent-orange">nuestra</span>
        <span class="text-white"> </span>
        <span class="text-accent-purple">comunidad</span>
      </h2>
      
      <p class="community-subtitle text-sm sm:text-base text-text-secondary max-w-[20rem] text-center leading-relaxed">
        Conecta con artistas, comparte tu trabajo y participa en proyectos colaborativos.
      </p>
      
      <a 
        href="/talentos" 
        class="cta-btn bg-brand-navy hover:bg-accent-cyan hover:text-brand-dark text-accent-orange border-brand-navy focus-visible:outline-accent-cyan inline-block rounded-lg border px-6 py-3 text-base font-semibold whitespace-nowrap transition-all duration-300 hover:shadow-[0_0_20px_rgba(52,223,222,0.5)] focus-visible:outline-2 focus-visible:outline-offset-2 sm:px-8 sm:py-3.5 md:text-lg"
        aria-label="Crear perfil de artista en Digital Revolution"
      >
        Crea tu perfil ahora
      </a>
      
      <div class="cta-ornaments" aria-hidden="true">
        <span class="ring-pulse ring-pulse--1"></span>
        <span class="ring-pulse ring-pulse--2"></span>
        <span class="ring-pulse ring-pulse--3"></span>
      </div>
    </div>
  </div>

  <!-- Right column with images -->
  <div
    class="md:col-span-auto flex shrink flex-col items-center justify-center gap-2 sm:col-span-1 sm:gap-3 md:gap-4"
  >
    <!-- Parallelogram right top -->
    <div style="filter: none;" class="md:flex md:justify-center" aria-hidden="true">
      <div
        class="clip-path-parallelogram-left-corner community-card relative h-32 w-20 origin-right skew-y-25 transform overflow-hidden rounded-lg rounded-tl-md rounded-br-md sm:h-48 sm:w-28 sm:rounded-xl sm:rounded-tl-lg sm:rounded-br-lg md:h-140 md:w-72 md:rounded-4xl md:rounded-tl-2xl md:rounded-br-2xl lg:h-160 lg:w-80"
      >
        <Image
          src={communityImage}
          alt=""
          widths={[80, 192, 288, 400, 560]}
          sizes="(max-width: 640px) 80px, (max-width: 768px) 192px, (max-width: 1024px) 288px, 400px"
          format="webp"
          quality={85}
          loading="lazy"
          decoding="async"
          class="h-full w-full rounded-lg rounded-tl-md rounded-br-md object-cover sm:rounded-xl sm:rounded-tl-lg sm:rounded-br-lg md:rounded-4xl md:rounded-tl-2xl md:rounded-br-2xl"
        />
      </div>
    </div>

    <!-- Parallelogram right bottom -->
    <div
      style="filter: none;" aria-hidden="true"
      class="md:-mt-32 md:flex md:justify-center"
    >
      <div
        class="clip-path-parallelogram-right-bottom community-card relative h-28 w-18 origin-right transform self-end overflow-hidden rounded-lg rounded-tl-md rounded-br-md sm:h-36 sm:w-22 sm:rounded-xl sm:rounded-tl-lg sm:rounded-br-lg md:h-100 md:w-48 md:rounded-4xl md:rounded-tl-2xl md:rounded-br-2xl lg:h-110 lg:w-52"
      >
        <Image
          src={communityImage}
          alt=""
          widths={[72, 144, 192, 272]}
          sizes="(max-width: 640px) 72px, (max-width: 768px) 144px, (max-width: 1024px) 192px, 272px"
          format="webp"
          quality={85}
          loading="lazy"
          decoding="async"
          class="h-full w-full rounded-lg rounded-tl-md rounded-br-md object-cover shadow-2xl sm:rounded-xl sm:rounded-tl-lg sm:rounded-br-lg md:rounded-4xl md:rounded-tl-2xl md:rounded-br-2xl"
        />
      </div>
    </div>
  </div>
</section>
